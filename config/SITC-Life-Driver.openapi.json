{
  "openapi": "3.1.0",
  "info": {
    "title": "SITC-Life-Driver",
    "description": "",
    "version": "1.0.0"
  },
  "tags": [
    {
      "name": "认证"
    },
    {
      "name": "用户"
    },
    {
      "name": "学期"
    },
    {
      "name": "模板"
    },
    {
      "name": "网盘"
    },
    {
      "name": "值班计划"
    },
    {
      "name": "签到"
    },
    {
      "name": "请假"
    },
    {
      "name": "安全记录"
    },
    {
      "name": "消息通知"
    },
    {
      "name": "Microsoft Auth"
    }
  ],
  "paths": {
    "/auth/login": {
      "post": {
        "summary": "登录",
        "deprecated": false,
        "description": "",
        "tags": [
          "认证"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "studentId": {
                    "type": "string",
                    "title": "学籍号/工号"
                  },
                  "password": {
                    "type": "string",
                    "title": "密码"
                  }
                },
                "required": [
                  "studentId",
                  "password"
                ]
              },
              "example": {
                "studentId": "22100484",
                "password": "22100484"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/auth/refresh": {
      "post": {
        "summary": "刷新Token",
        "deprecated": false,
        "description": "",
        "tags": [
          "认证"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/auth/logout": {
      "delete": {
        "summary": "登出确认",
        "deprecated": true,
        "description": "",
        "tags": [
          "认证"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/user": {
      "post": {
        "summary": "添加用户",
        "deprecated": false,
        "description": "",
        "tags": [
          "用户"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "studentId": {
                    "type": "string",
                    "title": "学籍号/工号(账户)",
                    "maxLength": 8,
                    "minLength": 8
                  },
                  "name": {
                    "type": "string",
                    "title": "姓名"
                  },
                  "classname": {
                    "type": "string",
                    "title": "行政班级全称"
                  },
                  "phone": {
                    "type": "string",
                    "title": "手机号码"
                  },
                  "position": {
                    "type": "string",
                    "title": "部门内职务",
                    "enum": [
                      "实习部员",
                      "普通部员",
                      "实习汇总负责人",
                      "汇总负责人",
                      "部门负责人",
                      "副部长",
                      "部长",
                      "其他人员"
                    ],
                    "examples": [
                      "其他人员",
                      "部长",
                      "副部长",
                      "部门负责人",
                      "汇总负责人",
                      "实习汇总负责人",
                      "普通部员",
                      "实习部员"
                    ]
                  },
                  "gender": {
                    "type": "string",
                    "title": "性别",
                    "enum": [
                      "男",
                      "女",
                      "不方便透露"
                    ],
                    "examples": [
                      "男",
                      "女",
                      "不方便透露"
                    ]
                  },
                  "department": {
                    "type": "string",
                    "title": "系部",
                    "enum": [
                      "信息技术系",
                      "商务管理系",
                      "智能制造系",
                      "材料与检测系",
                      "公共基础部",
                      "校团委",
                      "其它"
                    ],
                    "examples": [
                      "信息技术系",
                      "商务管理系",
                      "智能制造系",
                      "材料与检测系",
                      "公共基础部",
                      "校团委",
                      "其它"
                    ]
                  },
                  "is_admin": {
                    "type": "boolean",
                    "title": "是否管理员"
                  },
                  "qq": {
                    "type": "string",
                    "title": "QQ"
                  },
                  "note": {
                    "type": "string",
                    "title": "备注"
                  },
                  "politicalLandscape": {
                    "type": "string",
                    "title": "政治面貌",
                    "enum": [
                      "群众",
                      "中国共产主义青年团团员",
                      "中国共产党正式党员",
                      "中国共产党预备党员",
                      "其它"
                    ],
                    "examples": [
                      "群众",
                      "中国共产主义青年团团员",
                      "中国共产党正式党员",
                      "中国共产党预备党员",
                      "其它"
                    ]
                  },
                  "resident": {
                    "type": "boolean",
                    "title": "是否住宿"
                  },
                  "join_at": {
                    "type": "string",
                    "title": "入部时间",
                    "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
                    "examples": [
                      "2025-01-01"
                    ]
                  }
                },
                "required": [
                  "studentId",
                  "name",
                  "classname",
                  "phone",
                  "position",
                  "gender",
                  "department",
                  "is_admin",
                  "politicalLandscape",
                  "resident",
                  "join_at"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      },
      "get": {
        "summary": "获取所有用户",
        "deprecated": false,
        "description": "",
        "tags": [
          "用户"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/user/my": {
      "get": {
        "summary": "获取我的信息",
        "deprecated": false,
        "description": "",
        "tags": [
          "用户"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/user/pwd/update": {
      "get": {
        "summary": "修改自己的密码",
        "deprecated": false,
        "description": "",
        "tags": [
          "用户"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/user/{user_id}": {
      "patch": {
        "summary": "修改用户",
        "deprecated": false,
        "description": "",
        "tags": [
          "用户"
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "title": "姓名"
                  },
                  "classname": {
                    "type": "string",
                    "title": "行政班级全称"
                  },
                  "phone": {
                    "type": "string",
                    "title": "手机号码"
                  },
                  "position": {
                    "type": "string",
                    "title": "部门内职务",
                    "enum": [
                      "实习部员",
                      "普通部员",
                      "实习汇总负责人",
                      "汇总负责人",
                      "部门负责人",
                      "副部长",
                      "部长",
                      "其他人员"
                    ],
                    "examples": [
                      "其他人员",
                      "部长",
                      "副部长",
                      "部门负责人",
                      "汇总负责人",
                      "实习汇总负责人",
                      "普通部员",
                      "实习部员"
                    ]
                  },
                  "gender": {
                    "type": "string",
                    "title": "性别",
                    "enum": [
                      "男",
                      "女",
                      "不方便透露"
                    ],
                    "examples": [
                      "男",
                      "女",
                      "不方便透露"
                    ]
                  },
                  "department": {
                    "type": "string",
                    "title": "系部",
                    "enum": [
                      "信息技术系",
                      "商务管理系",
                      "智能制造系",
                      "材料与检测系",
                      "公共基础部",
                      "校团委",
                      "其它"
                    ],
                    "examples": [
                      "信息技术系",
                      "商务管理系",
                      "智能制造系",
                      "材料与检测系",
                      "公共基础部",
                      "校团委",
                      "其它"
                    ]
                  },
                  "is_admin": {
                    "type": "boolean",
                    "title": "是否管理员"
                  },
                  "qq": {
                    "type": "string",
                    "title": "QQ"
                  },
                  "note": {
                    "type": "string",
                    "title": "备注"
                  },
                  "politicalLandscape": {
                    "type": "string",
                    "title": "政治面貌",
                    "enum": [
                      "群众",
                      "中国共产主义青年团团员",
                      "中国共产党正式党员",
                      "中国共产党预备党员",
                      "其它"
                    ],
                    "examples": [
                      "群众",
                      "中国共产主义青年团团员",
                      "中国共产党正式党员",
                      "中国共产党预备党员",
                      "其它"
                    ]
                  },
                  "resident": {
                    "type": "boolean",
                    "title": "是否住宿"
                  },
                  "join_at": {
                    "type": "string",
                    "title": "入部时间",
                    "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
                    "examples": [
                      "2025-01-01"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      },
      "get": {
        "summary": "获取用户详情",
        "deprecated": false,
        "description": "",
        "tags": [
          "用户"
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      },
      "delete": {
        "summary": "软删除用户",
        "deprecated": false,
        "description": "",
        "tags": [
          "用户"
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/user/count": {
      "get": {
        "summary": "用户数据统计",
        "deprecated": false,
        "description": "",
        "tags": [
          "用户"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/user/export": {
      "get": {
        "summary": "导出用户为CSV",
        "deprecated": false,
        "description": "",
        "tags": [
          "用户"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/user/deleted": {
      "get": {
        "summary": "获取已删除用户",
        "deprecated": false,
        "description": "",
        "tags": [
          "用户"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/user/restore/{user_id}": {
      "get": {
        "summary": "恢复一个已删除用户",
        "deprecated": false,
        "description": "",
        "tags": [
          "用户"
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/user/pwd/reset/{user_id}": {
      "get": {
        "summary": "重置除自己外的用户密码",
        "deprecated": false,
        "description": "",
        "tags": [
          "用户"
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/semester": {
      "get": {
        "summary": "获取当前学期",
        "deprecated": false,
        "description": "",
        "tags": [
          "学期"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      },
      "post": {
        "summary": "更新当前学期",
        "deprecated": false,
        "description": "",
        "tags": [
          "学期"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "semester_name": {
                    "type": "string",
                    "title": "学期名称"
                  },
                  "start_month": {
                    "type": "string",
                    "title": "开始年月",
                    "pattern": "^\\d{4}-\\d{2}$"
                  },
                  "end_month": {
                    "type": "string",
                    "title": "结束年月",
                    "pattern": "^\\d{4}-\\d{2}$"
                  }
                },
                "required": [
                  "semester_name",
                  "start_month",
                  "end_month"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/template": {
      "post": {
        "summary": "添加一个模板",
        "deprecated": false,
        "description": "",
        "tags": [
          "模板"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "building": {
                    "type": "string",
                    "title": "楼栋"
                  },
                  "room": {
                    "type": "string",
                    "title": "室"
                  },
                  "classname": {
                    "type": "string",
                    "title": "教室/班级行政全称"
                  }
                },
                "required": [
                  "building",
                  "room",
                  "classname"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      },
      "patch": {
        "summary": "修改模板",
        "deprecated": false,
        "description": "",
        "tags": [
          "模板"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "building": {
                    "type": "string",
                    "title": "楼栋"
                  },
                  "room": {
                    "type": "string",
                    "title": "室"
                  },
                  "classname": {
                    "type": "string",
                    "title": "教室/班级行政全称"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      },
      "get": {
        "summary": "获取所有模板",
        "deprecated": false,
        "description": "",
        "tags": [
          "模板"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      },
      "delete": {
        "summary": "清空所有模板",
        "deprecated": false,
        "description": "",
        "tags": [
          "模板"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/template/{template_id}": {
      "delete": {
        "summary": "删除模板",
        "deprecated": false,
        "description": "",
        "tags": [
          "模板"
        ],
        "parameters": [
          {
            "name": "template_id",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/template/upload": {
      "post": {
        "summary": "上传CSV批量生成模板",
        "deprecated": false,
        "description": "",
        "tags": [
          "模板"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "format": "binary",
                    "type": "string",
                    "example": ""
                  }
                },
                "required": [
                  "file"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/template/download": {
      "post": {
        "summary": "下载模板CSV",
        "deprecated": false,
        "description": "",
        "tags": [
          "模板"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "format": "binary",
                    "type": "string",
                    "example": ""
                  }
                },
                "required": [
                  "file"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/driver/docid/groupid": {
      "get": {
        "summary": "管理员获取团委根文件夹ID",
        "deprecated": true,
        "description": "",
        "tags": [
          "网盘"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/driver/docid/lifedir": {
      "get": {
        "summary": "管理员获取生活部文件夹ID",
        "deprecated": true,
        "description": "",
        "tags": [
          "网盘"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/driver/docid/semesterdir": {
      "get": {
        "summary": "管理员获取当前学期文件夹ID",
        "deprecated": true,
        "description": "",
        "tags": [
          "网盘"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/driver/dir/all/create_by_semseter": {
      "get": {
        "summary": "创建当前学期文件夹",
        "deprecated": false,
        "description": "",
        "tags": [
          "网盘"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/driver/dir/month/create_by_semseter": {
      "get": {
        "summary": "在当前学期创建独立月份文件夹",
        "deprecated": false,
        "description": "",
        "tags": [
          "网盘"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/driver/dir/month/create_current_month": {
      "get": {
        "summary": "在当前学期当前月份文件夹",
        "deprecated": false,
        "description": "",
        "tags": [
          "网盘"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/driver/dir/list/life_dep": {
      "get": {
        "summary": "获取生活部文件夹内容",
        "deprecated": false,
        "description": "",
        "tags": [
          "网盘"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/driver/dir/list/semester": {
      "get": {
        "summary": "获取当前学期文件夹内容",
        "deprecated": false,
        "description": "",
        "tags": [
          "网盘"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/driver/dir/list/month": {
      "get": {
        "summary": "获取当前学期当前月份文件夹内容",
        "deprecated": false,
        "description": "",
        "tags": [
          "网盘"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/driver/dir/list/other": {
      "get": {
        "summary": "列出其他文件夹",
        "deprecated": false,
        "description": "管理员可获取生活部目录下任意区域。\n普通部员根据自己的权限获取可访问区域的其他文件夹。",
        "tags": [
          "网盘"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/driver/dir/del": {
      "post": {
        "summary": "获取链接",
        "deprecated": false,
        "description": "管理员可删除生活部目录下任意区域文件。\n普通部员根据自己的权限获取可删除区域的其他文件。",
        "tags": [
          "网盘"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "docid": {
                    "type": "string",
                    "title": "文件ID路径"
                  },
                  "perm": {
                    "type": "integer",
                    "enum": [
                      1,
                      3,
                      4,
                      5,
                      7
                    ],
                    "examples": [
                      1,
                      3,
                      4,
                      5,
                      7
                    ],
                    "title": "权限"
                  },
                  "usePassword": {
                    "type": "boolean",
                    "title": "密码文件夹"
                  },
                  "endtime": {
                    "type": "string",
                    "title": "结束时间",
                    "description": "需要整点时间戳"
                  }
                },
                "required": [
                  "docid",
                  "perm",
                  "usePassword",
                  "endtime"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/driver/download": {
      "post": {
        "summary": "打包下载文件",
        "deprecated": false,
        "description": "管理员可删除生活部目录下任意区域文件。\n普通部员根据自己的权限获取可删除区域的其他文件。",
        "tags": [
          "网盘"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "docid": {
                    "type": "string",
                    "title": "文件ID路径"
                  },
                  "session_id": {
                    "type": "integer",
                    "enum": [
                      1,
                      3,
                      4,
                      5,
                      7
                    ],
                    "examples": [
                      1,
                      3,
                      4,
                      5,
                      7
                    ],
                    "description": "他妈的我也不知道这个啥session"
                  },
                  "name": {
                    "type": "boolean",
                    "title": "文件名"
                  }
                },
                "required": [
                  "docid",
                  "session_id",
                  "name"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/schedule/{schedule_id}": {
      "get": {
        "summary": "获取值班计划具体信息",
        "deprecated": false,
        "description": "",
        "tags": [
          "值班计划"
        ],
        "parameters": [
          {
            "name": "schedule_id",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      },
      "patch": {
        "summary": "修改值班计划",
        "deprecated": false,
        "description": "",
        "tags": [
          "值班计划"
        ],
        "parameters": [
          {
            "name": "schedule_id",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "schedule_name": {
                    "type": "string",
                    "title": "值班计划名称"
                  },
                  "schedule_type": {
                    "type": "string",
                    "enum": [
                      "放学",
                      "午间",
                      "晚间",
                      "早间",
                      "其它"
                    ],
                    "examples": [
                      "其它",
                      "早间",
                      "晚间",
                      "午间",
                      "放学"
                    ],
                    "title": "值班计划类型"
                  },
                  "schedule_start_time": {
                    "type": "string",
                    "pattern": "^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$",
                    "examples": [
                      "2025-01-01 00:00:00"
                    ],
                    "title": "值班计划开始时间"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      },
      "delete": {
        "summary": "删除值班计划",
        "deprecated": false,
        "description": "",
        "tags": [
          "值班计划"
        ],
        "parameters": [
          {
            "name": "schedule_id",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/schedule": {
      "post": {
        "summary": "创建值班计划",
        "deprecated": false,
        "description": "",
        "tags": [
          "值班计划"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "schedule_name": {
                    "type": "string",
                    "title": "值班计划名称"
                  },
                  "schedule_type": {
                    "type": "string",
                    "enum": [
                      "放学",
                      "午间",
                      "晚间",
                      "早间",
                      "其它"
                    ],
                    "examples": [
                      "其它",
                      "早间",
                      "晚间",
                      "午间",
                      "放学"
                    ],
                    "title": "值班计划类型"
                  },
                  "schedule_start_time": {
                    "type": "string",
                    "pattern": "^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$",
                    "examples": [
                      "2025-01-01 00:00:00"
                    ],
                    "title": "值班计划开始时间"
                  }
                },
                "required": [
                  "schedule_name",
                  "schedule_type",
                  "schedule_start_time"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      },
      "get": {
        "summary": "获取所有值班计划",
        "deprecated": false,
        "description": "",
        "tags": [
          "值班计划"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/schedule/upload": {
      "post": {
        "summary": "上传CSV批量值班计划",
        "deprecated": false,
        "description": "",
        "tags": [
          "值班计划"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "format": "binary",
                    "type": "string",
                    "example": ""
                  }
                },
                "required": [
                  "file"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/checkin/my": {
      "get": {
        "summary": "获取我的所有签到",
        "deprecated": false,
        "description": "",
        "tags": [
          "签到"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/checkin/checkin/{check_in_id}": {
      "get": {
        "summary": "用户签到",
        "deprecated": false,
        "description": "",
        "tags": [
          "签到"
        ],
        "parameters": [
          {
            "name": "check_in_id",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "X-Network-Signature",
            "in": "header",
            "description": "",
            "required": false,
            "example": "",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/checkin/attendance/stats": {
      "post": {
        "summary": "出勤情况统计",
        "deprecated": false,
        "description": "",
        "tags": [
          "签到"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "start_time": {
                    "type": "string",
                    "pattern": "^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$",
                    "examples": [
                      "2025-01-01 00:00:00"
                    ]
                  },
                  "end_time": {
                    "type": "string",
                    "pattern": "^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$",
                    "examples": [
                      "2025-12-31 00:00:00"
                    ]
                  }
                },
                "required": [
                  "start_time",
                  "end_time"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/checkin/change_record/{check_in_user_id}": {
      "post": {
        "summary": "管理员自由更改某个签到的签到时间（补签、协助签到）",
        "deprecated": false,
        "description": "",
        "tags": [
          "签到"
        ],
        "parameters": [
          {
            "name": "check_in_user_id",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/checkin/cancel/{check_in_user_id}": {
      "get": {
        "summary": "管理员驳回签到",
        "deprecated": false,
        "description": "",
        "tags": [
          "签到"
        ],
        "parameters": [
          {
            "name": "check_in_user_id",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/checkin/{check_in_id}": {
      "patch": {
        "summary": "管理员修改签到信息",
        "deprecated": false,
        "description": "",
        "tags": [
          "签到"
        ],
        "parameters": [
          {
            "name": "check_in_id",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "check_in_start_time": {
                    "type": "string",
                    "pattern": "^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$",
                    "examples": [
                      "2025-01-01 00:00:00"
                    ]
                  },
                  "check_in_end_time": {
                    "type": "string",
                    "pattern": "^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$",
                    "examples": [
                      "2025-01-01 00:10:00"
                    ]
                  },
                  "need_check_schedule_time": {
                    "type": "boolean"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      },
      "delete": {
        "summary": "管理员删除子签到",
        "deprecated": false,
        "description": "",
        "tags": [
          "签到"
        ],
        "parameters": [
          {
            "name": "check_in_id",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/checkin": {
      "get": {
        "summary": "管理员列出所有签到信息",
        "deprecated": false,
        "description": "",
        "tags": [
          "签到"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/checkin/export/{check_in_id}": {
      "post": {
        "summary": "管理员导出签到详细流水",
        "deprecated": false,
        "description": "",
        "tags": [
          "签到"
        ],
        "parameters": [
          {
            "name": "check_in_id",
            "in": "path",
            "description": "",
            "required": true,
            "example": "1",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "start_time": {
                    "type": "string",
                    "pattern": "^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$",
                    "examples": [
                      "2025-01-01 00:00:00"
                    ]
                  },
                  "end_time": {
                    "type": "string",
                    "pattern": "^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$",
                    "examples": [
                      "2025-12-31 00:00:00"
                    ]
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "schedule_time",
                      "checkin_time"
                    ],
                    "examples": [
                      "schedule_time",
                      "checkin_time"
                    ]
                  },
                  "export": {
                    "type": "boolean"
                  }
                },
                "required": [
                  "start_time",
                  "end_time",
                  "type"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/checkin/checkinuser": {
      "post": {
        "summary": "管理员列出指定日期范围的签到流水",
        "deprecated": false,
        "description": "",
        "tags": [
          "签到"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "start_time": {
                    "type": "string",
                    "pattern": "^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$",
                    "examples": [
                      "2025-01-01 00:00:00"
                    ]
                  },
                  "end_time": {
                    "type": "string",
                    "pattern": "^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$",
                    "examples": [
                      "2025-12-31 00:00:00"
                    ]
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "schedule_time",
                      "checkin_time"
                    ],
                    "examples": [
                      "schedule_time",
                      "checkin_time"
                    ]
                  },
                  "export": {
                    "type": "boolean"
                  }
                },
                "required": [
                  "start_time",
                  "end_time",
                  "type"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/checkin/checkinuser/user/{user_id}": {
      "post": {
        "summary": "管理员导出用户签到流水",
        "deprecated": false,
        "description": "",
        "tags": [
          "签到"
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "start_time": {
                    "type": "string",
                    "pattern": "^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$",
                    "examples": [
                      "2025-01-01 00:00:00"
                    ]
                  },
                  "end_time": {
                    "type": "string",
                    "pattern": "^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$",
                    "examples": [
                      "2025-12-31 00:00:00"
                    ]
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "schedule_time",
                      "checkin_time"
                    ],
                    "examples": [
                      "schedule_time",
                      "checkin_time"
                    ]
                  },
                  "export": {
                    "type": "boolean"
                  }
                },
                "required": [
                  "start_time",
                  "end_time",
                  "type"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/checkin/checkinuser/schedule/{schedule_id}": {
      "post": {
        "summary": "管理员导出值班签到流水",
        "deprecated": false,
        "description": "",
        "tags": [
          "签到"
        ],
        "parameters": [
          {
            "name": "schedule_id",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "start_time": {
                    "type": "string",
                    "pattern": "^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$",
                    "examples": [
                      "2025-01-01 00:00:00"
                    ]
                  },
                  "end_time": {
                    "type": "string",
                    "pattern": "^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$",
                    "examples": [
                      "2025-12-31 00:00:00"
                    ]
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "schedule_time",
                      "checkin_time"
                    ],
                    "examples": [
                      "schedule_time",
                      "checkin_time"
                    ]
                  },
                  "export": {
                    "type": "boolean"
                  }
                },
                "required": [
                  "start_time",
                  "end_time",
                  "type"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/checkin/assign/{check_in_id}": {
      "post": {
        "summary": "排班或子签到绑定用户",
        "deprecated": false,
        "description": "",
        "tags": [
          "签到"
        ],
        "parameters": [
          {
            "name": "check_in_id",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "user_ids": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    }
                  }
                },
                "required": [
                  "user_ids"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/create/{schedule_id}": {
      "post": {
        "summary": "管理员对某个值班计划创建子签到",
        "deprecated": false,
        "description": "",
        "tags": [
          "签到"
        ],
        "parameters": [
          {
            "name": "schedule_id",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "title": "签到名",
                    "description": "名称"
                  },
                  "check_in_start_time": {
                    "type": "string",
                    "pattern": "^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$",
                    "examples": [
                      "2025-01-01 00:00:00"
                    ],
                    "title": "签到开始时间"
                  },
                  "check_in_end_time": {
                    "type": "string",
                    "pattern": "^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$",
                    "examples": [
                      "2025-01-01 00:10:00"
                    ]
                  }
                },
                "required": [
                  "name",
                  "check_in_start_time",
                  "check_in_end_time"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/checkin/assign": {
      "post": {
        "summary": "批量排班或子签到绑定用户",
        "deprecated": false,
        "description": "",
        "tags": [
          "签到"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "user_ids": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    }
                  },
                  "checkin_ids": {
                    "type": "array",
                    "items": {
                      "type": "integer"
                    }
                  }
                },
                "required": [
                  "user_ids",
                  "checkin_ids"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/asl/my/{check_in_user_id}": {
      "post": {
        "summary": "新增请假请求",
        "deprecated": false,
        "description": "",
        "tags": [
          "请假"
        ],
        "parameters": [
          {
            "name": "check_in_user_id",
            "in": "path",
            "description": "",
            "required": true,
            "example": "1",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "image_url": {
                    "type": "string",
                    "format": "binary",
                    "minLength": 0,
                    "maxLength": 2,
                    "example": [
                      "file://C:\\Users\\Skyler\\Downloads\\xsjw.shitac.net_.png",
                      "file://C:\\Users\\Skyler\\Pictures\\Feedback\\{8A81E9EA-A990-4A2B-BC1E-797B1935ED25}\\Capture001.png"
                    ]
                  },
                  "asl_type": {
                    "type": "string",
                    "examples": [
                      "病假",
                      "符合要求的赛事或集训",
                      "事假",
                      "公务假"
                    ],
                    "example": "病假"
                  },
                  "asl_reason": {
                    "example": "测试",
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/asl/my": {
      "get": {
        "summary": "获取我的所有请假",
        "deprecated": false,
        "description": "",
        "tags": [
          "请假"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/asl/my/{application_id}": {
      "get": {
        "summary": "获取我的请假详情",
        "deprecated": false,
        "description": "",
        "tags": [
          "请假"
        ],
        "parameters": [
          {
            "name": "application_id",
            "in": "path",
            "description": "",
            "required": true,
            "example": "1",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/asl/my/photo/{application_id}/{photo_name}": {
      "get": {
        "summary": "获取我的请假的某个图片",
        "deprecated": false,
        "description": "",
        "tags": [
          "请假"
        ],
        "parameters": [
          {
            "name": "application_id",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "photo_name",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/asl/my/cancel/{application_id}": {
      "get": {
        "summary": "取消我的请假",
        "deprecated": false,
        "description": "",
        "tags": [
          "请假"
        ],
        "parameters": [
          {
            "name": "application_id",
            "in": "path",
            "description": "",
            "required": true,
            "example": "1",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/asl": {
      "get": {
        "summary": "获取所有请假请求",
        "deprecated": false,
        "description": "",
        "tags": [
          "请假"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/asl/{application_id}": {
      "patch": {
        "summary": "管理员更新请假状态",
        "deprecated": false,
        "description": "",
        "tags": [
          "请假"
        ],
        "parameters": [
          {
            "name": "application_id",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "status": {
                    "type": "string",
                    "title": "请假状态",
                    "description": "驳回或批准",
                    "examples": [
                      "已批准",
                      "已拒绝"
                    ]
                  },
                  "asl_type": {
                    "type": "string",
                    "title": "请假类型",
                    "examples": [
                      "病假",
                      "事假",
                      "符合要求的赛事或集训",
                      "公务假"
                    ]
                  },
                  "reject_reason": {
                    "type": "string",
                    "title": "拒绝理由"
                  }
                },
                "required": [
                  "status",
                  "reject_reason"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      },
      "get": {
        "summary": "管理员获取请假详情",
        "deprecated": false,
        "description": "",
        "tags": [
          "请假"
        ],
        "parameters": [
          {
            "name": "application_id",
            "in": "path",
            "description": "",
            "required": true,
            "example": "1",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/asl/photo/{application_id}/{photo_name}": {
      "get": {
        "summary": "管理员获取某个请假的某个图片",
        "deprecated": false,
        "description": "",
        "tags": [
          "请假"
        ],
        "parameters": [
          {
            "name": "application_id",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "photo_name",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/asl/{check_in_user_id}": {
      "post": {
        "summary": "管理员补充请假",
        "deprecated": false,
        "description": "",
        "tags": [
          "请假"
        ],
        "parameters": [
          {
            "name": "check_in_user_id",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "image_url": {
                    "example": "[\"file://C:\\Users\\Skyler\\Downloads\\xsjw.shitac.net_.png\",\"file://C:\\Users\\Skyler\\Pictures\\Feedback\\{8A81E9EA-A990-4A2B-BC1E-797B1935ED25}\\Capture001.png\"]",
                    "type": "string",
                    "format": "binary"
                  },
                  "asl_type": {
                    "example": "病假",
                    "type": "string"
                  },
                  "asl_reason": {
                    "example": "测试",
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/asl/cleanup-images": {
      "post": {
        "summary": "清理某个时间点前的照片",
        "deprecated": false,
        "description": "",
        "tags": [
          "请假"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "target_date": {
                    "type": "string",
                    "pattern": "^\\d{4}-\\d{2}-\\d{2}",
                    "examples": [
                      "2025-06-30"
                    ]
                  }
                },
                "required": [
                  "target_date"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/security-history": {
      "get": {
        "summary": "API成功访问记录",
        "deprecated": false,
        "description": "",
        "tags": [
          "安全记录"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/message": {
      "get": {
        "summary": "获取我的消息",
        "deprecated": false,
        "description": "",
        "tags": [
          "消息通知"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/message/read": {
      "get": {
        "summary": "已读我的所有消息",
        "deprecated": false,
        "description": "",
        "tags": [
          "消息通知"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/message/read/{message_id}": {
      "get": {
        "summary": "已读我的某条消息",
        "deprecated": false,
        "description": "",
        "tags": [
          "消息通知"
        ],
        "parameters": [
          {
            "name": "message_id",
            "in": "path",
            "description": "",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/ cloudflare_worker /upload": {
      "post": {
        "summary": "上传文件",
        "deprecated": false,
        "description": "Referer防盗！",
        "tags": [
          "Microsoft Auth"
        ],
        "parameters": [
          {
            "name": "Referer",
            "in": "header",
            "description": "",
            "required": true,
            "example": "https://twlife.leeskyler.top",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "image_url": {
                    "type": "string",
                    "format": "binary",
                    "example": ""
                  }
                },
                "required": [
                  "image_url"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/ cloudflare_worker /upload-session": {
      "post": {
        "summary": "开启分片上传大文件会话",
        "deprecated": false,
        "description": "Referer防盗！",
        "tags": [
          "Microsoft Auth"
        ],
        "parameters": [
          {
            "name": "Referer",
            "in": "header",
            "description": "",
            "required": true,
            "example": "https://twlife.leeskyler.top",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "file_name": {
                    "type": "string",
                    "title": "文件名"
                  },
                  "file_size": {
                    "type": "integer",
                    "title": "文件大小"
                  }
                },
                "required": [
                  "file_name",
                  "file_size"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/ cloudflare_worker /upload-chunk": {
      "post": {
        "summary": "分片上传文件",
        "deprecated": false,
        "description": "Referer防盗！\n需要填写Header，事先通过“开启分片上传大文件会话”API获取UploadId和guid数据！",
        "tags": [
          "Microsoft Auth"
        ],
        "parameters": [
          {
            "name": "Referer",
            "in": "header",
            "description": "",
            "required": true,
            "example": "https://twlife.leeskyler.top",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "X-Upload-Id",
            "in": "header",
            "description": "upload-session API返回的UploadId,属于是Sharepoint上传会话ID。",
            "required": true,
            "example": "",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "x-Upload-Guid",
            "in": "header",
            "description": "upload-session API返回的Sharepoint guid，请注意需要单引号包裹！",
            "required": true,
            "example": "",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "X-Content-Range",
            "in": "header",
            "description": "当前分片范围 例如：bytes 0-83886079/136066794",
            "required": true,
            "example": "",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Content-Length",
            "in": "header",
            "description": "当前分片长度",
            "required": true,
            "example": "",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/octet-stream": {
              "schema": {
                "type": "string",
                "format": "binary"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/ cloudflare_worker /download/{item-id}": {
      "get": {
        "summary": "下载",
        "deprecated": false,
        "description": "Referer防盗！",
        "tags": [
          "Microsoft Auth"
        ],
        "parameters": [
          {
            "name": "item-id",
            "in": "path",
            "description": "",
            "required": true,
            "example": "01PT5NINNQP75L6G6MTJFKHDVIKVOSLLC5",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "Referer",
            "in": "header",
            "description": "",
            "required": true,
            "example": "https://twlife.leeskyler.top",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    },
    "/microsoft-graph/auth/callback": {
      "get": {
        "summary": "Microsoft Graph API Auth Callback",
        "deprecated": false,
        "description": "该API为了防止Microsoft Sharepoint网盘遭到滥用或者发生滥用其他接口的情况，要求Cloudflare Worker签名认证。\nX-Cloudflare-Signature类似于签到功能中的内网验证，在服务端有一个Cloudflare专属的签名密钥，在其env中自定义设置且不应泄露，类似于签到内网验证HMAC，X-Cloudflare-Signature+CF-Connecting-IP计算后的结果。\nCF-Connecting-IP 用于检查X-Cloudflare-Signature是否属于持有人，是签名认证的一部分，一定要传递，这个IP不一定需要属于Cloudflare CDN 网络的IP-CIDR或是ASN自治域，所以请牢记不要泄露。",
        "tags": [
          "Microsoft Auth"
        ],
        "parameters": [
          {
            "name": "X-Cloudflare-Signature",
            "in": "header",
            "description": "",
            "required": true,
            "example": "{{cloudflare_worker_token}}",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "CF-Connecting-IP",
            "in": "header",
            "description": "",
            "required": true,
            "example": "2a06:98c0:3600::103",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {}
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "bearer": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {},
    "securitySchemes": {
      "bearer": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  },
  "servers": [
    {
      "url": "http://127.0.0.1:8080/api/v1",
      "description": "dev"
    }
  ],
  "security": [
    {
      "bearer": []
    }
  ]
}